# ðŸ¤– GitHub Copilot â€“ Global Coding Instructions  
# Project: AI Growth Planner (BE: NestJS, FE: Next.js App Router)

These are the global rules and architecture constraints that GitHub Copilot must follow for this project.  
Copilot should ALWAYS respect these conventions unless explicitly overridden.

---

# 1. PROJECT OVERVIEW

AI Growth Planner is a platform that generates a personalized 6-month development roadmap for employees using a multi-agent AI workflow.  
The system consists of:

## Backend (NestJS)
- REST API
- Multi-agent AI orchestration (OpenAI)
- Modules for:
  - User Profile
  - Goals (OKRs)
  - Daily Tasks
  - Progress Tracking
  - Reports / HR Summary
  - AI Agents
- Database: PostgreSQL (via Prisma or TypeORM)

## Frontend (Next.js App Router)
- Dashboard for 6-month plan
- Daily/Weekly/Monthly progress
- Skill gap visualizations
- HR report viewer
- Uses Tailwind + shadcn/ui components

---

# 2. ARCHITECTURE RULES

## 2.1 Backend Structure (NestJS)
Follow this folder pattern:
### Each module MUST contain:
- `*.module.ts`
- `*.service.ts`
- `*.controller.ts`
- `/dto/*.dto.ts`
- `/entities/*.entity.ts` (or prisma schema)
- Unit-testable functions

### Requirements:
- Use **Dependency Injection**
- Avoid business logic in controllers
- Agents must be isolated in providers
- Use DTO validation (`class-validator`, `class-transformer`)
- API must return **JSON only**

---

# 3. AI MULTI-AGENT RULES

System contains 5 agents:

1. **SkillGapAgent**  
   - Input: user profile + target role  
   - Output: skill gap analysis, prioritized  

2. **GoalPlannerAgent**  
   - Converts skill gap â†’ 6-month OKRs  

3. **DailyTaskAgent**  
   - Converts OKRs â†’ 180 daily tasks  

4. **ProgressTrackerAgent**  
   - Evaluates task completion, weekly & monthly progress  

5. **HRReportAgent**  
   - Summary for review: strengths, weaknesses, completion, recommendations  

### AI-related rules:
- Always use a `OpenAIProvider` wrapper
- Never put prompts directly inside controllers
- Return structured JSON only (no natural language output unless required)
- Each agent has `systemPrompt`, `exampleInputs`, `expectedOutputs` templates

---

# 4. FRONTEND RULES (Next.js App Router)

Folder structure:
### UI Rules:
- Use TailwindCSS
- Use shadcn/ui components
- Create reusable components (Card, Button, ProgressRing, TaskItem)
- Use **Server Components by default**
- Fetch data using async server functions
- Use Zod for schema validation (client + server)

### Pages:
- `/dashboard` â†’ summary of goals and progress
- `/plan` â†’ 6-month OKRs + skill gap
- `/daily` â†’ daily tasks (optional web view)
- `/reports` â†’ HR evaluation

---

# 5. CODING STYLE

### General Rules:
- Use **TypeScript** everywhere
- Prefer **async/await**
- Avoid `any`
- Use consistent naming: `kebab-case` for files, `camelCase` for variables
- Avoid deeply nested logic â€“ refactor into pure functions

### Backend:
- Keep services small & focused
- Controllers should only:
  - validate request
  - forward to service
  - return response
- Handle errors using `HttpException`

### Frontend:
- Create small reusable UI components
- Use layout primitives: `<Container>`, `<Section>`, `<Card>`
- No inline styling (always classes)
- Use hooks only for client components

---

# 6. API CONTRACT RULES

When Copilot generates APIs, they must follow this:

### Endpoint rules:
| Feature | Endpoint | Method |
|---------|----------|--------|
| Profile | `/users/profile` | GET / POST / PATCH |
| Goals | `/goals` | GET / POST |
| Daily Tasks | `/daily-tasks/today` | GET |
| Mark Complete | `/daily-tasks/:id/complete` | POST |
| Reports | `/reports/summary` | GET |
| HR Final Report | `/reports/final` | GET |

### Response format:
```json
{
  "success": true,
  "data": { ... }
}
```

# 7. DATABASE RULES
### Tables:
	â€¢	Users
	â€¢	Goals
	â€¢	DailyTasks
	â€¢	ProgressLogs
	â€¢	Reports

### Must include:
	â€¢	createdAt
	â€¢	updatedAt
	â€¢	soft delete (optional)

# 8. TESTING RULES
### Copilot must generate:
	â€¢	Unit tests for services
	â€¢	Mock tests for AI providers
	â€¢	API integration tests (optional)

# 9. DOCUMENTATION RULES
### Copilot must help generate:
	â€¢	JSDoc for all major functions
	â€¢	Inline documentation for modules
	â€¢	Readme examples for API usage

# 10. TONE AND VIBE (VERY IMPORTANT)
### Copilot should always:
	â€¢	Code like a senior engineer
	â€¢	Follow clean, scalable architecture
	â€¢	Write readable & modular code
	â€¢	Provide suggestions that align with the AI-agent paradigm
	â€¢	Maintain consistent formatting
